<html><head><title>Cats: Eq</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Cats contributors" /><meta name="description" content="Lightweight, modular, and extensible library for functional programming" /><meta name="og:image" content="/cats/img/poster.png" /><meta name="image" property="og:image" content="/cats/img/poster.png" /><meta name="og:title" content="Cats: Eq" /><meta name="title" property="og:title" content="Cats: Eq" /><meta name="og:site_name" content="Cats" /><meta name="og:url" content="http://typelevel.org/cats/" /><meta name="og:type" content="website" /><meta name="og:description" content="Lightweight, modular, and extensible library for functional programming" /><link rel="icon" type="image/png" href="/cats/img/favicon.png" /><meta name="twitter:title" content="Cats: Eq" /><meta name="twitter:image" content="/cats/img/poster.png" /><meta name="twitter:description" content="Lightweight, modular, and extensible library for functional programming" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/cats/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/cats/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/cats/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/cats/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/cats/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/cats/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/cats/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/cats/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/cats/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/cats/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/cats/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/cats/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/cats/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/cats/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/cats/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/cats/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/cats/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/cats/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/cats/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/cats/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/cats/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/cats/css/style.css" /><link rel="stylesheet" href="/cats/css/palette.css" /><link rel="stylesheet" href="/cats/css/codemirror.css" /><link rel="stylesheet" href="/cats/css/override.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/cats/" class="brand"><div class="brand-wrapper"><span>Cats</span></div></a></li> <li><a href="/cats/typeclasses.html" class="">Type Classes</a></li> <li><a href="/cats/typeclasses/semigroup.html" class="">Semigroups and Monoids</a> <ul class="sub_section"> <li><a href="/cats/typeclasses/semigroup.html" class="">Semigroup</a></li> <li><a href="/cats/typeclasses/monoid.html" class="">Monoid</a></li></ul></li> <li><a href="/cats/typeclasses/applicativetraverse.html" class="">Applicative and Traversable Functors</a> <ul class="sub_section"> <li><a href="/cats/typeclasses/functor.html" class="">Functor</a></li> <li><a href="/cats/typeclasses/applicative.html" class="">Applicative</a></li> <li><a href="/cats/typeclasses/traverse.html" class="">Traverse</a></li></ul></li> <li><a href="/cats/typeclasses/monad.html" class="">Monads</a></li> <li><a href="/cats/typeclasses/comonad.html" class="">Comonads</a></li> <li><a href="/cats/typeclasses/functor.html" class="">Variance and Functors</a> <ul class="sub_section"> <li><a href="/cats/typeclasses/functor.html" class="">Functor</a></li> <li><a href="/cats/typeclasses/contravariant.html" class="">Contravariant</a></li> <li><a href="/cats/typeclasses/contravariantmonoidal.html" class="">ContravariantMonoidal</a></li> <li><a href="/cats/typeclasses/invariant.html" class="">Invariant</a></li> <li><a href="/cats/typeclasses/invariantmonoidal.html" class="">InvariantMonoidal</a></li></ul></li> <li><a href="/cats/typeclasses/alternative.html" class="">Alternative</a></li> <li><a href="/cats/typeclasses/bifunctor.html" class="">Bifunctor</a></li> <li><a href="/cats/typeclasses/eq.html" class=" active ">Eq</a></li> <li><a href="/cats/typeclasses/foldable.html" class="">Foldable</a></li> <li><a href="/cats/typeclasses/parallel.html" class="">Parallel</a></li> <li><a href="/cats/typeclasses/semigroupk.html" class="">SemigroupK</a></li> <li><a href="/cats/typeclasses/monoidk.html" class="">MonoidK</a></li> <li><a href="/cats/typeclasses/show.html" class="">Show</a></li> <li><a href="/cats/typeclasses/reducible.html" class="">Reducible</a></li> <li><a href="/cats/typeclasses/nonemptytraverse.html" class="">NonEmptyTraverse</a></li> <li><a href="/cats/typeclasses/arrow.html" class="">Arrow</a></li> <li><a href="/cats/typeclasses/lawtesting.html" class="">Law Testing</a></li>                    </ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/typelevel/cats"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/typelevel/cats"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('Cats Lightweight, modular, and extensible library for functional programming');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('Cats Lightweight, modular, and extensible library for functional programming');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="typelevel" data-github-repo="cats"><div class="content-wrapper"><section><h1 id="eq">Eq</h1>

<p>Eq is an alternative to the standard Java <code class="highlighter-rouge">equals</code> method.
It is defined by the single method <code class="highlighter-rouge">eqv</code>:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="n">eqv</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">A</span><span class="o">)</span><span class="k">:</span> <span class="kt">Boolean</span>
</code></pre>
</div>

<p>In Scala it’s possible to compare any two values using <code class="highlighter-rouge">==</code> (which desugars to Java <code class="highlighter-rouge">equals</code>).
This is because <code class="highlighter-rouge">equals</code> type signature uses <code class="highlighter-rouge">Any</code> (Java’s <code class="highlighter-rouge">Object</code>) to compare two values.
This means that we can compare two completely unrelated types without getting a compiler error.
The Scala compiler may warn us in some cases, but not all, which can lead to some weird bugs.
For example this code will raise a warning at compile time:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="mi">42</span> <span class="o">==</span> <span class="s">"Hello"</span>
<span class="c1">// &lt;console&gt;:13: warning: comparing values of types Int and String using `==' will always yield false
//        42 == "Hello"
//           ^
// error: No warnings can be incurred under -Xfatal-warnings.
</span></code></pre>
</div>

<p>While this code will compile without a hitch:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="s">"Hello"</span> <span class="o">==</span> <span class="mi">42</span>
<span class="c1">// res1: Boolean = false
</span></code></pre>
</div>

<p>Ideally, Scala shouldn’t let us compare two types that can never be equal.</p>

<p>As you can probably see in the type signature of <code class="highlighter-rouge">eqv</code>, it is impossible to compare two values of different types,
eliminating these types of bugs altogether.</p>

<p>The <code class="highlighter-rouge">Eq</code> syntax package also offers some handy symbolic operators:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">cats.implicits._</span>
<span class="c1">// import cats.implicits._
</span>
<span class="mi">1</span> <span class="o">===</span> <span class="mi">1</span>
<span class="c1">// res2: Boolean = true
</span>
<span class="s">"Hello"</span> <span class="o">=!=</span> <span class="s">"World"</span>
<span class="c1">// res3: Boolean = true
</span></code></pre>
</div>

<p>Implementing <code class="highlighter-rouge">Eq</code> instances yourself for every data type might seem like huge drawback compared to only slight gains of typesafety.
Fortunately for us, we have two great options. One option is to use inbuilt helper functions.
Another option is to use a small library called <a href="https://github.com/typelevel/kittens">kittens</a>, which can derive a lot of type class instances for our data types including <code class="highlighter-rouge">Eq</code>.</p>

<p>The first option using <code class="highlighter-rouge">Eq.fromUniversalEquals</code> only defers to <code class="highlighter-rouge">==</code> and works like this:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">cats.kernel.Eq</span>
<span class="c1">// import cats.kernel.Eq
</span>
<span class="k">import</span> <span class="nn">cats.implicits._</span>
<span class="c1">// import cats.implicits._
</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">b</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>
<span class="c1">// defined class Foo
</span>
<span class="k">implicit</span> <span class="k">val</span> <span class="n">eqFoo</span><span class="k">:</span> <span class="kt">Eq</span><span class="o">[</span><span class="kt">Foo</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Eq</span><span class="o">.</span><span class="n">fromUniversalEquals</span>
<span class="c1">// eqFoo: cats.kernel.Eq[Foo] = cats.kernel.Eq$$anon$6@603461a4
</span>
<span class="nc">Foo</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="s">""</span><span class="o">)</span> <span class="o">===</span> <span class="nc">Foo</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="s">""</span><span class="o">)</span>
<span class="c1">// res4: Boolean = true
</span></code></pre>
</div>

<p>For an example using Kittens check out the <a href="https://github.com/typelevel/kittens">kittens repo</a>.</p>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/cats/highlight/highlight.pack.js"></script><script>hljs.configure({languages:['scala','java','bash']});
hljs.initHighlighting();
              </script><script>((window.gitter = {}).chat = {}).options = {
room: 'typelevel/cats'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/cats/js/main.js"></script></body></html>