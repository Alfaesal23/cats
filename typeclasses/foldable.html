<!DOCTYPE html><html><head><title>Cats: Foldable</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Cats contributors" /><meta name="description" content="Lightweight, modular, and extensible library for functional programming" /><meta name="og:image" content="/cats/img/poster.png" /><meta name="image" property="og:image" content="/cats/img/poster.png" /><meta name="og:title" content="Cats: Foldable" /><meta name="title" property="og:title" content="Cats: Foldable" /><meta name="og:site_name" content="Cats" /><meta name="og:url" content="http://typelevel.org/cats/" /><meta name="og:type" content="website" /><meta name="og:description" content="Lightweight, modular, and extensible library for functional programming" /><link rel="icon" type="image/png" href="/cats/img/favicon.png" /><meta name="twitter:title" content="Cats: Foldable" /><meta name="twitter:image" content="/cats/img/poster.png" /><meta name="twitter:description" content="Lightweight, modular, and extensible library for functional programming" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/cats/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/cats/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/cats/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/cats/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/cats/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/cats/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/cats/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/cats/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/cats/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/cats/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/cats/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/cats/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/cats/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/cats/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/cats/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/cats/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/cats/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/cats/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/cats/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/cats/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/cats/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/cats/css/pattern-style.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/cats/" class="brand"><div class="brand-wrapper"><span>Cats</span></div></a></li><li><a href="/cats/typeclasses/alternative.html" class="">Alternative</a></li><li><a href="/cats/typeclasses/applicative.html" class="">Applicative</a></li><li><a href="/cats/typeclasses/applicativemonaderror.html" class="">Applicative Error</a></li><li><a href="/cats/typeclasses/applicativetraverse.html" class="">Applicative and Traversable Functors</a></li><li><a href="/cats/typeclasses/arrow.html" class="">Arrow</a></li><li><a href="/cats/typeclasses/arrowchoice.html" class="">Arrow Choice</a></li><li><a href="/cats/typeclasses/bifunctor.html" class="">Bifunctor</a></li><li><a href="/cats/typeclasses/comonad.html" class="">Comonad</a></li><li><a href="/cats/typeclasses/contravariant.html" class="">Contravariant</a></li><li><a href="/cats/typeclasses/contravariantmonoidal.html" class="">Contravariant Monoidal</a></li><li><a href="/cats/typeclasses/eq.html" class="">Eq</a></li><li><a href="/cats/typeclasses/foldable.html" class=" active ">Foldable</a></li><li><a href="/cats/typeclasses/functor.html" class="">Functor</a></li><li><a href="/cats/typeclasses/invariant.html" class="">Invariant</a></li><li><a href="/cats/typeclasses/invariantmonoidal.html" class="">InvariantMonoidal</a></li><li><a href="/cats/typeclasses/lawtesting.html" class="">Law Testing</a></li><li><a href="/cats/typeclasses/monad.html" class="">Monad</a></li><li><a href="/cats/typeclasses/monoid.html" class="">Monoid</a></li><li><a href="/cats/typeclasses/monoidk.html" class="">MonoidK</a></li><li><a href="/cats/typeclasses/nonemptytraverse.html" class="">NonEmptyTraverse</a></li><li><a href="/cats/typeclasses/parallel.html" class="">Parallel</a></li><li><a href="/cats/typeclasses/reducible.html" class="">Reducible</a></li><li><a href="/cats/typeclasses/semigroup.html" class="">Semigroup</a></li><li><a href="/cats/typeclasses/semigroupk.html" class="">SemigroupK</a></li><li><a href="/cats/typeclasses/show.html" class="">Show</a></li><li><a href="/cats/typeclasses/traverse.html" class="">Traverse</a></li><li><a href="/cats/typeclasses.html" class="">Type Classes</a></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li class="search-nav hidden-xs hidden-sm"><div id="search-dropdown"><label><i class="fa fa-search"></i>Search</label><input id="search-bar" type="text" placeholder="Enter keywords here..." onclick="displayToggleSearch(event)" /><ul id="search-dropdown-content" class="dropdown dropdown-content"></ul></div></li><li id="gh-eyes-item" class="hidden-xs to-uppercase"><a href="https://github.com/typelevel/cats" target="_blank" rel="noopener noreferrer"><i class="fa fa-eye"></i><span>Watchers<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs to-uppercase"><a href="https://github.com/typelevel/cats" target="_blank" rel="noopener noreferrer"><i class="fa fa-star-o"></i><span>Stars<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('Cats Lightweight, modular, and extensible library for functional programming');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('Cats Lightweight, modular, and extensible library for functional programming');"><i class="fa fa-facebook"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="typelevel" data-github-repo="cats"><div class="content-wrapper"><section><h1 id="foldable">Foldable</h1>

<p>Foldable type class instances can be defined for data structures that can be 
folded to a summary value.</p>

<p>In the case of a collection (such as <code class="language-plaintext highlighter-rouge">List</code> or <code class="language-plaintext highlighter-rouge">Vector</code>), these methods will fold
together (combine) the values contained in the collection to produce a single 
result. Most collection types have <code class="language-plaintext highlighter-rouge">foldLeft</code> methods, which will usually be 
used by the associated <code class="language-plaintext highlighter-rouge">Foldable[_]</code> instance.</p>

<p><code class="language-plaintext highlighter-rouge">Foldable[F]</code> is implemented in terms of two basic methods:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">foldLeft(fa, b)(f)</code> eagerly performs a left-associative fold over <code class="language-plaintext highlighter-rouge">fa</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">foldRight(fa, b)(f)</code> lazily performs a right-associative fold over <code class="language-plaintext highlighter-rouge">fa</code>.</li>
</ul>

<p>Consider a simple list like <code class="language-plaintext highlighter-rouge">List(1, 2, 3)</code>. You could sum the numbers of this list using folds
where <code class="language-plaintext highlighter-rouge">0</code> is the starting value (<code class="language-plaintext highlighter-rouge">b</code>) and integer addition (<code class="language-plaintext highlighter-rouge">+</code>) is the combination operation
(<code class="language-plaintext highlighter-rouge">f</code>). Since <code class="language-plaintext highlighter-rouge">foldLeft</code> is left-associative, the execution of this fold would look something like
<code class="language-plaintext highlighter-rouge">((0 + 1) + 2) + 3</code>. The execution of a similar <code class="language-plaintext highlighter-rouge">foldRight</code>-based solution would look something
like <code class="language-plaintext highlighter-rouge">0 + (1 + (2 + 3))</code>. In this case, since integer addition is associative, both approaches will
yield the same result. However, for non-associative operations, the two methods can produce
different results.</p>

<p>These form the basis for many other operations, see also: 
<a href="http://www.cs.nott.ac.uk/~gmh/fold.pdf">A tutorial on the universality and expressiveness of fold</a></p>

<p>First some standard imports.</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">cats._</span>
<span class="k">import</span> <span class="nn">cats.implicits._</span>
</code></pre></div></div>

<p>And examples.</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">fold</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"c"</span><span class="o">))</span>
<span class="c1">// res0: String = "abc"</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">foldMap</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">4</span><span class="o">))(</span><span class="nv">_</span><span class="o">.</span><span class="py">toString</span><span class="o">)</span>
<span class="c1">// res1: String = "124"</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">foldK</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">),</span> <span class="nc">List</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">)))</span>
<span class="c1">// res2: List[Int] = List(1, 2, 3, 2, 3, 4)</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">reduceLeftToOption</span><span class="o">(</span><span class="nc">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]())(</span><span class="nv">_</span><span class="o">.</span><span class="py">toString</span><span class="o">)((</span><span class="n">s</span><span class="o">,</span><span class="n">i</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">s</span> <span class="o">+</span> <span class="n">i</span><span class="o">)</span>
<span class="c1">// res3: Option[String] = None</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">reduceLeftToOption</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">))(</span><span class="nv">_</span><span class="o">.</span><span class="py">toString</span><span class="o">)((</span><span class="n">s</span><span class="o">,</span><span class="n">i</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">s</span> <span class="o">+</span> <span class="n">i</span><span class="o">)</span>
<span class="c1">// res4: Option[String] = Some("1234")</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">reduceRightToOption</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">))(</span><span class="nv">_</span><span class="o">.</span><span class="py">toString</span><span class="o">)((</span><span class="n">i</span><span class="o">,</span><span class="n">s</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Later</span><span class="o">(</span><span class="nv">s</span><span class="o">.</span><span class="py">value</span> <span class="o">+</span> <span class="n">i</span><span class="o">)).</span><span class="py">value</span>
<span class="c1">// res5: Option[String] = Some("4321")</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">reduceRightToOption</span><span class="o">(</span><span class="nc">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]())(</span><span class="nv">_</span><span class="o">.</span><span class="py">toString</span><span class="o">)((</span><span class="n">i</span><span class="o">,</span><span class="n">s</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Later</span><span class="o">(</span><span class="nv">s</span><span class="o">.</span><span class="py">value</span> <span class="o">+</span> <span class="n">i</span><span class="o">)).</span><span class="py">value</span>
<span class="c1">// res6: Option[String] = None</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">find</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">))(</span><span class="k">_</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">)</span>
<span class="c1">// res7: Option[Int] = Some(3)</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">exists</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">))(</span><span class="k">_</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">)</span>
<span class="c1">// res8: Boolean = true</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">forall</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">))(</span><span class="k">_</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">)</span>
<span class="c1">// res9: Boolean = false</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">forall</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">))(</span><span class="k">_</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">)</span>
<span class="c1">// res10: Boolean = true</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">Vector</span><span class="o">].</span><span class="py">filter_</span><span class="o">(</span><span class="nc">Vector</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">))(</span><span class="k">_</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">)</span>
<span class="c1">// res11: List[Int] = List(1, 2)</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">isEmpty</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">))</span>
<span class="c1">// res12: Boolean = false</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">Option</span><span class="o">].</span><span class="py">isEmpty</span><span class="o">(</span><span class="nc">None</span><span class="o">)</span>
<span class="c1">// res13: Boolean = true</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">nonEmpty</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">))</span>
<span class="c1">// res14: Boolean = true</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">Option</span><span class="o">].</span><span class="py">toList</span><span class="o">(</span><span class="nc">Option</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span>
<span class="c1">// res15: List[Int] = List(1)</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">Option</span><span class="o">].</span><span class="py">toList</span><span class="o">(</span><span class="nc">None</span><span class="o">)</span>
<span class="c1">// res16: List[Nothing] = List()</span>

<span class="k">def</span> <span class="nf">parseInt</span><span class="o">(</span><span class="n">s</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nv">scala</span><span class="o">.</span><span class="py">util</span><span class="o">.</span><span class="py">Try</span><span class="o">(</span><span class="nv">Integer</span><span class="o">.</span><span class="py">parseInt</span><span class="o">(</span><span class="n">s</span><span class="o">)).</span><span class="py">toOption</span>

<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">traverse_</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">"1"</span><span class="o">,</span> <span class="s">"2"</span><span class="o">))(</span><span class="n">parseInt</span><span class="o">)</span>
<span class="c1">// res17: Option[Unit] = Some(())</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">traverse_</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">"1"</span><span class="o">,</span> <span class="s">"A"</span><span class="o">))(</span><span class="n">parseInt</span><span class="o">)</span>
<span class="c1">// res18: Option[Unit] = None</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">sequence_</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="nc">Option</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="nc">Option</span><span class="o">(</span><span class="mi">2</span><span class="o">)))</span>
<span class="c1">// res19: Option[Unit] = Some(())</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">sequence_</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="nc">Option</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="nc">None</span><span class="o">))</span>
<span class="c1">// res20: Option[Unit] = None</span>

<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">forallM</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">))(</span><span class="n">i</span> <span class="k">=&gt;</span> <span class="nf">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">)</span> <span class="nc">Some</span><span class="o">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">else</span> <span class="nc">None</span><span class="o">)</span>
<span class="c1">// res21: Option[Boolean] = Some(false)</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">existsM</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">))(</span><span class="n">i</span> <span class="k">=&gt;</span> <span class="nf">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">)</span> <span class="nc">Some</span><span class="o">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">else</span> <span class="nc">None</span><span class="o">)</span>
<span class="c1">// res22: Option[Boolean] = None</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">existsM</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">))(</span><span class="n">i</span> <span class="k">=&gt;</span> <span class="nf">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">)</span> <span class="nc">Some</span><span class="o">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">else</span> <span class="nc">None</span><span class="o">)</span>
<span class="c1">// res23: Option[Boolean] = Some(true)</span>

<span class="k">val</span> <span class="nv">prints</span><span class="k">:</span> <span class="kt">Eval</span><span class="o">[</span><span class="kt">Unit</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="nv">Eval</span><span class="o">.</span><span class="py">always</span><span class="o">(</span><span class="nf">println</span><span class="o">(</span><span class="mi">1</span><span class="o">)),</span> <span class="nv">Eval</span><span class="o">.</span><span class="py">always</span><span class="o">(</span><span class="nf">println</span><span class="o">(</span><span class="mi">2</span><span class="o">))).</span><span class="py">sequence_</span>
<span class="c1">// prints: Eval[Unit] = cats.Eval$$anon$4@51e78e39</span>
<span class="nv">prints</span><span class="o">.</span><span class="py">value</span>
<span class="c1">// 1</span>
<span class="c1">// 2</span>

<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">dropWhile_</span><span class="o">(</span><span class="nc">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">](</span><span class="mi">2</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">))(</span><span class="k">_</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
<span class="c1">// res25: List[Int] = List(5, 6, 7)</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">List</span><span class="o">].</span><span class="py">dropWhile_</span><span class="o">(</span><span class="nc">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">](</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">))(</span><span class="k">_</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
<span class="c1">// res26: List[Int] = List(1, 2, 4, 5, 6, 7)</span>

<span class="k">import</span> <span class="nn">cats.data.Nested</span>
<span class="k">val</span> <span class="nv">listOption0</span> <span class="k">=</span> <span class="nc">Nested</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="nc">Option</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="nc">Option</span><span class="o">(</span><span class="mi">2</span><span class="o">),</span> <span class="nc">Option</span><span class="o">(</span><span class="mi">3</span><span class="o">)))</span>
<span class="c1">// listOption0: Nested[List, Option, Int] = Nested(</span>
<span class="c1">//   List(Some(1), Some(2), Some(3))</span>
<span class="c1">// )</span>
<span class="k">val</span> <span class="nv">listOption1</span> <span class="k">=</span> <span class="nc">Nested</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="nc">Option</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="nc">Option</span><span class="o">(</span><span class="mi">2</span><span class="o">),</span> <span class="nc">None</span><span class="o">))</span>
<span class="c1">// listOption1: Nested[List, Option, Int] = Nested(</span>
<span class="c1">//   List(Some(1), Some(2), None)</span>
<span class="c1">// )</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">Nested</span><span class="o">[</span><span class="kt">List</span>, <span class="kt">Option</span>, <span class="kt">*</span><span class="o">]].</span><span class="py">fold</span><span class="o">(</span><span class="n">listOption0</span><span class="o">)</span>
<span class="c1">// res27: Int = 6</span>
<span class="nc">Foldable</span><span class="o">[</span><span class="kt">Nested</span><span class="o">[</span><span class="kt">List</span>, <span class="kt">Option</span>, <span class="kt">*</span><span class="o">]].</span><span class="py">fold</span><span class="o">(</span><span class="n">listOption1</span><span class="o">)</span>
<span class="c1">// res28: Int = 3</span>
</code></pre></div></div>

<p>Hence when defining some new data structure, if we can define a <code class="language-plaintext highlighter-rouge">foldLeft</code> and
<code class="language-plaintext highlighter-rouge">foldRight</code> we are able to provide many other useful operations, if not always
 the most efficient implementations, over the structure without further 
 implementation.</p>

<hr />

<p>Note that, in order to support laziness, the signature of <code class="language-plaintext highlighter-rouge">Foldable</code>’s 
<code class="language-plaintext highlighter-rouge">foldRight</code> is</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">foldRight</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">B</span><span class="o">](</span><span class="n">fa</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">A</span><span class="o">],</span> <span class="n">lb</span><span class="k">:</span> <span class="kt">Eval</span><span class="o">[</span><span class="kt">B</span><span class="o">])(</span><span class="n">f</span><span class="k">:</span> <span class="o">(</span><span class="kt">A</span><span class="o">,</span> <span class="kt">Eval</span><span class="o">[</span><span class="kt">B</span><span class="o">])</span> <span class="k">=&gt;</span> <span class="nc">Eval</span><span class="o">[</span><span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">Eval</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span>
</code></pre></div></div>

<p>as opposed to</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">foldRight</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">B</span><span class="o">](</span><span class="n">fa</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">A</span><span class="o">],</span> <span class="n">z</span><span class="k">:</span> <span class="kt">B</span><span class="o">)(</span><span class="n">f</span><span class="k">:</span> <span class="o">(</span><span class="kt">A</span><span class="o">,</span> <span class="kt">B</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">B</span><span class="o">)</span><span class="k">:</span> <span class="kt">B</span>
</code></pre></div></div>

<p>which someone familiar with the <code class="language-plaintext highlighter-rouge">foldRight</code> from the collections in
Scala’s standard library might expect. This will prevent operations
which are lazy in their right hand argument to traverse the entire
structure unnecessarily. For example, if you have:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">allFalse</span> <span class="k">=</span> <span class="nv">Stream</span><span class="o">.</span><span class="py">continually</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
<span class="c1">// allFalse: Stream[Boolean] = Stream(</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">//   false,</span>
<span class="c1">// ...</span>
</code></pre></div></div>

<p>which is an infinite stream of <code class="language-plaintext highlighter-rouge">false</code> values, and if you wanted to
reduce this to a single false value using the logical and (<code class="language-plaintext highlighter-rouge">&amp;&amp;</code>). You
intuitively know that the result of this operation should be
<code class="language-plaintext highlighter-rouge">false</code>. It is not necessary to consider the entire stream in order to
determine this result, you only need to consider the first
value. Using <code class="language-plaintext highlighter-rouge">foldRight</code> from the standard library <em>will</em> try to
consider the entire stream, and thus will eventually cause a stack
overflow:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="o">{</span>
  <span class="nv">allFalse</span><span class="o">.</span><span class="py">foldRight</span><span class="o">(</span><span class="kc">true</span><span class="o">)(</span><span class="k">_</span> <span class="o">&amp;&amp;</span> <span class="k">_</span><span class="o">)</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">{</span>
  <span class="k">case</span> <span class="n">e</span><span class="k">:</span><span class="kt">StackOverflowError</span> <span class="o">=&gt;</span> <span class="nf">println</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>
<span class="o">}</span>
<span class="c1">// java.lang.StackOverflowError</span>
<span class="c1">// res29: AnyVal = ()</span>
</code></pre></div></div>

<p>With the lazy <code class="language-plaintext highlighter-rouge">foldRight</code> on <code class="language-plaintext highlighter-rouge">Foldable</code>, the calculation terminates
after looking at only one value:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Foldable</span><span class="o">[</span><span class="kt">Stream</span><span class="o">].</span><span class="py">foldRight</span><span class="o">(</span><span class="n">allFalse</span><span class="o">,</span> <span class="nv">Eval</span><span class="o">.</span><span class="py">True</span><span class="o">)((</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nf">if</span> <span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="n">b</span> <span class="k">else</span> <span class="nv">Eval</span><span class="o">.</span><span class="py">False</span><span class="o">).</span><span class="py">value</span>
<span class="c1">// res30: Boolean = false</span>
</code></pre></div></div>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/cats/highlight/highlight.pack.js"></script><script src="/cats/lunr/lunr.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script>((window.gitter = {}).chat = {}).options = {
room: 'typelevel/cats'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/cats/js/search.js"></script><script src="/cats/js/main.js"></script></body></html>